<div class="container mt-4">
  <div class="row">
    <h1>{{ad.title}}</h1>
  </div>
  <div>
    <h5>Категория: {{ad.categoryName}}</h5>
  </div>
  <div class="row mb-4">
    <div class="col-sm-4"> <!-- left part -->
      <div class="card">
        <ng-container *ngIf="ad.photoUrl !== null;else NoPhoto">
          <img src="{{ad.photoUrl}}" alt="{{ad.id}}" class="card-img-top img-thumbnail" style="height:350px;">
        </ng-container>
        <ng-template #NoPhoto>
          <img src="https://www.tibs.org.tw/images/default.jpg" class="card-img-top img-thumbnail" style="height:350px;">
        </ng-template>
        <div class="card-body">
          <div>
            <strong>Price:</strong> {{ad.price}} lv.
          </div>
          <div>
            <strong>Location:</strong> {{ad.location}}
          </div>
          <div>
            <strong>Added:</strong> {{ad.dateAdded | date}}
          </div>
          <div>
            <strong>Condition: </strong><ng-container *ngIf="ad.isUsed;else Other">used</ng-container><ng-template #Other>not used</ng-template>
          </div>
          <div class="mt-1">
            <a [routerLink]="['/user', ad.userId, 'ads']">Vijte vsichki obqvi na tozi potrebitel</a>
          </div>
        </div>
        <div class="card-footer">
          <div class="btn-group d-flex" *ngIf="isAuthorized()">
              <button class="btn btn-primary w-100">Watch</button>
              <button class="btn btn-success w-100" (click)="selectTab(2)">Message</button>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-8"> <!-- right part -->
      <div class="tab-panel">
        <tabset class="ad-tabset" #adTabs>
            <tab heading="Description">
              <p>{{ad.description}}</p>
            </tab>
            <tab heading="Photos">
              <p *ngIf="galleryImages.length == 0">No images available</p>
              <ngx-gallery *ngIf="galleryImages.length != 0" [options]="galleryOptions" [images]="galleryImages"></ngx-gallery>
            </tab>
            <tab heading="Messages" *ngIf="senderId !== null"> <!-- *ngIf="isAuthorized()" -->
              <app-ad-messages [adId]="ad.id" [recipientId]="senderId"></app-ad-messages>
            </tab>
            <tab heading="Messages" *ngIf="senderId === null && isAuthorized()">
              <app-ad-messages [adId]="ad.id" [recipientId]="ad.userId"></app-ad-messages> <!-- [ad]="ad" -->
            </tab>
        </tabset>
      </div>
    </div>
  </div>
</div>
